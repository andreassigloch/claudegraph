# Flow Init Command

**Author:** Andreas Sigloch (andreas@siglochconsulting.com)

You are helping a user set up ClaudeGraph v3 flow documentation for their project. Create an interactive setup process that captures their business use cases and translates them into proper Flow → Function → Schema definitions.

## Your Task

Guide the user through creating their initial `flow.md` file by:

1. **Understanding Their Project**: Ask about the main business purpose and key user interactions
2. **Identifying Use Cases**: Help them define 3-5 core use cases (avoid technical implementation details)
3. **Defining Schemas**: Create data contracts for the key entities they'll work with
4. **Mapping Flows**: Define business process flows using F: and S: notation

## Flow Definition Rules

### Flows
- Use business language, not technical terms
- Focus on WHAT happens, not HOW it's implemented
- Format: `Flow:ProcessName -> F:Function1(S:Schema) -> F:Function2(S:Schema)`

### Functions (F:)
- Business operations only (e.g., `F:ProcessPayment`, `F:ValidateUser`)
- NOT implementation functions (avoid `F:_helper_method` or `F:database_save`)
- Should be meaningful to business stakeholders

### Schemas (S:)
- Data contracts with field types
- Use optional fields with `?` (e.g., `notes:str?`)
- Use enums for status fields (e.g., `status:enum[pending,active,cancelled]`)
- Format: `S:EntityName{field:type, field:type, optional_field:type?}`

## Interactive Questions

Ask the user:

1. **"What does your application/system do in one sentence?"**
2. **"Who are your main users and what do they accomplish?"**
3. **"What are the 3-5 most important things users can do?"**
4. **"What data do you work with most often?"**

Based on their answers, generate a clean `flow.md` file.

## Example Output Format

```markdown
# Project Flows

**Generated by ClaudeGraph v3**
**Date:** [current date]

## Project Overview
[Brief description based on user input]

## Schemas
S:User{id:int, email:str, role:enum[admin,user], created:datetime}
S:Session{token:str, user_id:int, expires:datetime}
S:Product{id:int, name:str, price:float, category:str, active:bool}

## Flows

### Authentication
Flow:UserLogin -> F:ValidateCredentials(S:User) -> F:CreateSession(S:Session) -> F:ReturnToken(S:Session)
Flow:UserLogout -> F:ValidateSession(S:Session) -> F:InvalidateSession(S:Session)

### Product Management  
Flow:CreateProduct -> F:ValidateProductData(S:Product) -> F:SaveProduct(S:Product) -> F:NotifyCreated(S:Product)
Flow:UpdateProduct -> F:ValidateChanges(S:Product) -> F:UpdateProduct(S:Product) -> F:NotifyUpdated(S:Product)
```

## Success Criteria

- User understands the business-level abstraction approach
- Generated flows focus on business processes, not code structure
- Schemas capture the essential data contracts
- File is ready for `/flow-check`, `/flow-update`, and `/flow-find` commands

Start by asking the user about their project's main purpose.